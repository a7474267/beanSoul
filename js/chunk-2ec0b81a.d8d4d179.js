(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ec0b81a"],{2355:function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._m(0),t._m(1),t.carts.length>0?s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 py-3"},[s("div",{staticClass:"table-responsive d-none d-md-block"},[s("table",{staticClass:"table table-striped text-center"},[t._m(2),s("tbody",t._l(t.carts,(function(a){return s("tr",{key:a.id},[s("td",{attrs:{width:"100"}},[s("img",{staticClass:"img-fluid",attrs:{src:a.product.imageUrl,alt:""}})]),s("td",{staticClass:"font-weight-bold align-middle"},[t._v(t._s(a.product.title))]),s("td",{staticClass:"align-middle"},[s("div",{staticClass:"input-group"},[s("div",{staticClass:"input-group-prepend"},[s("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:a.qty<=1},on:{click:function(s){a.qty--,t.updateCart(a.product.id,a.qty,a.id)}}},[a.product.id===t.qtyChanging?s("span",[s("i",{staticClass:"fas fa-spinner fa-spin"})]):t._e(),s("span",[t._v("-")])])]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:a.qty,expression:"item.qty",modifiers:{number:!0}}],staticClass:"text-center form-control",attrs:{type:"number",min:"1",max:"10"},domProps:{value:a.qty},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.updateCart(a.product.id,a.qty,a.id)},input:function(s){s.target.composing||t.$set(a,"qty",t._n(s.target.value))},blur:function(a){return t.$forceUpdate()}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:a.qty>=10},on:{click:function(s){a.qty++,t.updateCart(a.product.id,a.qty,a.id)}}},[a.product.id===t.qtyChanging?s("span",[s("i",{staticClass:"fas fa-spinner fa-spin"})]):s("span",[t._v("+")])])])])]),s("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.final_total)+" ")]),s("td",{staticClass:"align-middle"},[s("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(s){return t.deleteOrder(a.id)}}},[s("i",{staticClass:"fas fa-md fa-trash-alt"})])])])})),0)])]),t._l(t.carts,(function(a){return s("div",{key:a.id,staticClass:"d-md-none row mb-3 shadow-lg rounded"},[s("div",{staticClass:"d-flex align-items-center justify-content-center col-3"},[s("img",{staticClass:"img-fluid",attrs:{src:a.product.imageUrl,alt:""}})]),s("div",{staticClass:"col-9 d-flex align-items-center justify-content-between"},[s("p",{staticClass:"mb-0 h5 font-weight-bold"},[t._v(t._s(a.product.title))]),s("div",{staticClass:"badge badge-pill badge-danger"},[t._v(" "+t._s(a.product.category)+" ")])]),s("hr",{staticClass:"w-100 border-primary"}),s("div",{staticClass:"col-12 mb-4"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-9"},[s("div",{staticClass:"input-group"},[s("div",{staticClass:"input-group-prepend"},[s("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:a.qty<=1},on:{click:function(s){a.qty--,t.updateCart(a.product.id,a.qty,a.id)}}},[a.product.id===t.qtyChanging?s("span",[s("i",{staticClass:"fas fa-spinner fa-spin"})]):t._e(),s("span",[t._v("-")])])]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:a.qty,expression:"item.qty",modifiers:{number:!0}}],staticClass:"text-center form-control",attrs:{type:"number",min:"1",max:"10"},domProps:{value:a.qty},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.updateCart(a.product.id,a.qty,a.id)},input:function(s){s.target.composing||t.$set(a,"qty",t._n(s.target.value))},blur:function(a){return t.$forceUpdate()}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:a.qty>=10},on:{click:function(s){a.qty++,t.updateCart(a.product.id,a.qty,a.id)}}},[a.product.id===t.qtyChanging?s("span",[s("i",{staticClass:"fas fa-spinner fa-spin"})]):s("span",[t._v("+")])])])])]),s("div",{staticClass:"col-3 text-right"},[s("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(s){return t.deleteOrder(a.id)}}},[s("i",{staticClass:"fas fa-md fa-trash-alt"})])])])]),s("div",{staticClass:"col-12 d-flex justify-content-end font-weight-bold h5"},[t._v(" 金額："+t._s(a.final_total)+" ")])])})),s("div",{staticClass:"d-flex justify-content-end mt-4"},[s("p",{staticClass:"h4 mb-0 font-weight-bold"},[t._v("總金額")]),s("p",{staticClass:"h4 mb-0 font-weight-bold"},[t._v(t._s(t.cartTotal))])]),s("div",{staticClass:"row justify-content-between mt-4"},[s("div",{staticClass:"col-md-2"},[s("router-link",{staticClass:"btn btn-outline-dark font-weight-bold mb-2 mb-md-0 w-100\n            animate__animated animate__rubberBand animate__infinite",attrs:{to:"/products",type:"button"}},[t._v("繼續選購")])],1),s("div",{staticClass:"col-md-2"},[s("router-link",{staticClass:"btn btn-outline-danger font-weight-bold w-100",attrs:{type:"button",to:"/cart-form"}},[t._v("下一步")])],1)])],2)])]):s("div",{staticClass:"container mb-3"},[s("div",{staticClass:"row flex-column align-items-center"},[t._m(3),t._m(4),s("div",{staticClass:"col-md-5 text-center"},[s("router-link",{staticClass:"btn btn-outline-danger w-100",attrs:{to:"/products"}},[t._v(" 繼續選購 ")])],1)])])],1)},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"jumbotron jumbotron-fluid bg-style",staticStyle:{"background-image":"url(img/coffee-1580595_1280.jpg)"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col md-5 d-flex justify-content-center justify-content-md-start"},[s("h2",{staticClass:"text-white font-weight-bold"},[t._v(" 滿室飄香! "),s("br"),t._v("宅配到府! ")])])])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"text-center"},[s("h2",{staticClass:"font-weight-bold"},[t._v("購物車")]),s("hr",{staticClass:"w-100 border-bottom border-dark mt-0"})])])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("tr",[s("th",[t._v("產品圖片")]),s("th",[t._v("產品名稱")]),s("th",[t._v("數量")]),s("th",[t._v("價格")]),s("th",[t._v("刪除")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-12 text-center mb-3"},[s("p",{staticClass:"h3 text-dark mb-0"},[t._v("購物車無商品，快去逛逛！")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-md-5 mb-3"},[s("img",{staticClass:"img-fluid",attrs:{src:"img/anastasiia-chepinska-lcfH0p6emhw-unsplash.jpg",alt:""}})])}],n=s("5530"),r=(s("d3b7"),s("3ca3"),s("ddb0"),s("99af"),s("2f62")),c={data:function(){return{qtyChanging:""}},computed:Object(n["a"])({},Object(r["c"])(["isLoading","carts","cartTotal"])),methods:Object(n["a"])(Object(n["a"])({},Object(r["b"])(["getCarts","deleteOrder"])),{},{updateCart:function(t,a,s){var i=this;i.qtyChanging=t,i.$store.dispatch("updateLoading",!0),Promise.all([i.deleteOrder(s),i.addToCart(t,a)]).then((function(){i.$store.dispatch("updateLoading",!1),i.qtyChanging="",i.getCarts()}))},addToCart:function(t,a){var s=this,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("vietnaminsidersaigon","/cart"),e={product_id:t,qty:a};s.$http.post(i,{data:e})}}),created:function(){this.getCarts()}},d=c,o=(s("e282"),s("2877")),l=Object(o["a"])(d,i,e,!1,null,"3a3704a3",null);a["default"]=l.exports},c742:function(t,a,s){},e282:function(t,a,s){"use strict";s("c742")}}]);
//# sourceMappingURL=chunk-2ec0b81a.d8d4d179.js.map